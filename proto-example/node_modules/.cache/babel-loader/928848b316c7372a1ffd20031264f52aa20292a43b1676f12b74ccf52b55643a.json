{"ast":null,"code":"import p, { useState as g, useLayoutEffect as E, createContext as R, forwardRef as k, useCallback as u, useMemo as x, useImperativeHandle as A, useEffect as h, Fragment as S, useContext as q } from \"react\";\nconst z = {\n    tansformEventName(e) {\n      return this.types[e] ? this.types[e] : e;\n    },\n    types: {\n      ask: \"na-ask.vidbaby\",\n      initialized: \"na-initialized.vidbaby\",\n      playResponseData: \"na-playResponseData.vidbaby\",\n      response: \"na-response.vidbaby\",\n      playResponse: \"na-playResponse.vidbaby\",\n      microphoneStarted: \"na-microphoneStarted.vidbaby\",\n      microphoneAudio: \"na-microphoneAudio.vidbaby\",\n      microphoneData: \"na-microphoneData.vidbaby\",\n      microphoneStop: \"na-microphoneStop.vidbaby\",\n      microphoneStopped: \"na-microphoneStopped.vidbaby\",\n      playerBuilt: \"na-playerBuilt.vidbaby\",\n      unPark: \"na-unPark.vidbaby\",\n      segmentEnded: \"na-segmentEnded.vidbaby\",\n      clientData: \"na-clientData.vidbaby\",\n      extractedEntity: \"na-extractedEntity.vidbaby\",\n      play: \"na-play.vidbaby\",\n      pause: \"na-pause.vidbaby\",\n      mute: \"na-mute.vidbaby\",\n      unmute: \"na-unmute.vidbaby\",\n      \"player:state\": \"na-player:state.vidbaby\",\n      preRender: \"na-preRender.vidbaby\",\n      interimPlayResponse: \"na-interimPlayResponse.vidbaby\",\n      interimResponse: \"na-interimResponse.vidbaby\",\n      interimSegmentEnded: \"na-interimSegmentEnded.vidbaby\",\n      playerLoadingAssets: \"na-playerLoadingAssets.vidbaby\",\n      \"record-start\": \"na-record-start.vidbaby\",\n      \"record-stop\": \"na-record-stop.vidbaby\",\n      \"video-progress\": \"na-video-progress.vidbaby\",\n      \"video-converted\": \"na-video-converted.vidbaby\",\n      \"video-ready\": \"na-video-ready.vidbaby\",\n      \"video-cancel\": \"na-video-cancel.vidbaby\",\n      camChange: \"na-camChange.vidbaby\",\n      glbLoaded: \"na-glbLoaded.vidbaby\"\n    }\n  },\n  v = z;\nfunction f(e) {\n  const a = e.replace(/([A-Z])/g, n => `-${n[0].toLowerCase()}`);\n  return Object.keys(v.types).includes(a) ? a : e;\n}\nconst j = ({\n  src: e,\n  type: a = \"module\",\n  async: n = !0\n}) => new Promise((c, r) => {\n  const i = document.createElement(\"script\");\n  i.src = e, i.type = a, i.async = n, i.onload = () => c(i), i.onerror = () => r(new Error(\"Failed to load script. Check your internet connection.\")), document.head.appendChild(i);\n});\nasync function L() {\n  if (typeof window.jQuery > \"u\" || typeof window.$ != \"function\" || window.jQuery.fn.jquery === void 0 || window.jQuery.fn.jquery < \"3.4.1\") {\n    let e = null,\n      a = null;\n    typeof window.jQuery < \"u\" && (e = window.jQuery, a = window.$), await j({\n      src: \"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\",\n      type: \"text/javascript\",\n      async: !1\n    }), window.vidbaby$ = window.$, e && (window.$ = a, window.jQuery = e);\n  } else window.vidbaby$ = window.$;\n  typeof window.$ > \"u\" && (window.$ = window.jQuery);\n}\nfunction N({\n  id: e,\n  env: a\n}) {\n  const [n, c] = g();\n  return E(() => {\n    const r = async () => {\n      const i = {\n          local: `http://localhost:8080/loader.js?id=${e}&env=local`,\n          dev: `https://bridge3-dev.codebaby.com/loader.js?id=${e}&env=dev`,\n          qa: `https://qa-avatar.n-avatars.com/loader.js?id=${e}&env=qa`,\n          default: `https://portal.codebaby.com/loader.js?id=${e}`\n        },\n        o = (typeof a == \"string\" ? a : \"\").toLowerCase().replace(\"localhost\", \"local\"),\n        y = i[o] || i.default;\n      await L(), await j({\n        src: y\n      }), c(() => window.vidbaby$);\n    };\n    window ? r() : setTimeout(r, 3e3);\n  }, []), n;\n}\nconst P = R({\n    on(e, a) {},\n    off(e, a) {},\n    trigger(e, a) {}\n  }),\n  $ = P,\n  Q = k(function ({\n    children: a,\n    id: n,\n    env: c,\n    ...r\n  }, i) {\n    const o = N({\n        id: n,\n        env: c\n      }),\n      y = u((d, s) => {\n        o && o(document).on(v.tansformEventName(d), s);\n      }, [o]),\n      m = u((d, s) => {\n        o && o(document).off(v.tansformEventName(d), s);\n      }, [o]),\n      w = u((d, s) => {\n        o && o(document).trigger(v.tansformEventName(d), s);\n      }, [o]),\n      b = x(() => ({\n        on: y,\n        off: m,\n        trigger: w\n      }), [y, m, w]);\n    return A(i, function () {\n      return b;\n    }, [b]), h(() => {\n      if (!o || !r || Object.keys(r).length === 0) return;\n      const d = r,\n        s = Object.keys(r).filter(t => t.startsWith(\"on\")).map(t => t.replace(\"on\", \"\")).map(t => t.charAt(0).toLowerCase() + t.slice(1));\n      if (!(s.length <= 0)) {\n        for (const t of s) {\n          const l = `on${t.charAt(0).toUpperCase() + t.slice(1)}`;\n          t == \"initialized\" ? b.on(f(t), (...C) => {\n            setTimeout(() => d[l].apply(null, ...C), 1700);\n          }) : b.on(f(t), d[l]);\n        }\n        return () => {\n          for (const t of s) {\n            const l = `on${t.charAt(0).toUpperCase() + t.slice(1)}`;\n            b.off(f(t), d[l]);\n          }\n        };\n      }\n    }, [r, o]), /* @__PURE__ */p.createElement($.Provider, {\n      value: b\n    }, /* @__PURE__ */p.createElement(S, null, a, /* @__PURE__ */p.createElement(\"div\", {\n      id: \"avatarContainer\",\n      className: \"codebaby-react-avatar-container\"\n    })));\n  });\nfunction D() {\n  const {\n    on: e,\n    off: a,\n    trigger: n\n  } = q($);\n  return {\n    on: e,\n    off: a,\n    trigger: n\n  };\n}\nfunction B() {\n  const [e, a] = g(!1);\n  return h(() => {\n    let n = null;\n    const c = () => {\n      if (window && window.vidbaby$ && window.vidbaby && window.vidbaby.initialized) return a(!0);\n      n = setTimeout(c, 1e3);\n    };\n    return c(), () => {\n      n && clearTimeout(n);\n    };\n  }, []), e;\n}\nexport { Q as AvatarProvider, D as useCodebabyEvents, B as useIsInitialized };","map":{"version":3,"names":["p","useState","g","useLayoutEffect","E","createContext","R","forwardRef","k","useCallback","u","useMemo","x","useImperativeHandle","A","useEffect","h","Fragment","S","useContext","q","z","tansformEventName","e","types","ask","initialized","playResponseData","response","playResponse","microphoneStarted","microphoneAudio","microphoneData","microphoneStop","microphoneStopped","playerBuilt","unPark","segmentEnded","clientData","extractedEntity","play","pause","mute","unmute","preRender","interimPlayResponse","interimResponse","interimSegmentEnded","playerLoadingAssets","camChange","glbLoaded","v","f","a","replace","n","toLowerCase","Object","keys","includes","j","loadScript","src","type","async","Promise","c","r","i","document","createElement","onload","onerror","Error","head","appendChild","L","window","jQuery","$","fn","jquery","vidbaby$","N","id","env","verify","local","dev","qa","default","o","y","setTimeout","P","on","off","trigger","Q","children","d","s","m","w","b","length","filter","t","startsWith","map","charAt","slice","l","toUpperCase","C","apply","Provider","value","className","D","B","vidbaby","clearTimeout"],"sources":["/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/utils/events.js","/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/utils/normalizeEventName.js","/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/hooks/useLoadLib.js","/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/context/avatarCtx.js","/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/components/AvatarProvider.jsx","/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/hooks/useCodebabyEvents.js","/Users/alexkissijr/Documents/Github/codebaby-avatars-codebaby-react/proto-example/node_modules/@codebaby-avatars/codebaby-react/src/hooks/useIsInitialized.js"],"sourcesContent":["const events = {\r\n\ttansformEventName(name) {\r\n\t\tif(this.types[name]) {\r\n\t\t\treturn this.types[name];\r\n\t\t} else {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t},\r\n\ttypes: {\r\n\t\task: 'na-ask.vidbaby',\r\n\t\tinitialized: 'na-initialized.vidbaby',\r\n\t\tplayResponseData: 'na-playResponseData.vidbaby',\r\n\t\tresponse: 'na-response.vidbaby',\r\n\t\tplayResponse: 'na-playResponse.vidbaby',\r\n\t\tmicrophoneStarted: 'na-microphoneStarted.vidbaby',\r\n\t\tmicrophoneAudio: 'na-microphoneAudio.vidbaby',\r\n\t\tmicrophoneData: 'na-microphoneData.vidbaby',\r\n\t\tmicrophoneStop: 'na-microphoneStop.vidbaby',\r\n\t\tmicrophoneStopped: 'na-microphoneStopped.vidbaby',\r\n\t\tplayerBuilt: 'na-playerBuilt.vidbaby',\r\n\t\tunPark: 'na-unPark.vidbaby',\r\n\t\tsegmentEnded: 'na-segmentEnded.vidbaby',\r\n\t\tclientData: 'na-clientData.vidbaby',\r\n\t\textractedEntity: 'na-extractedEntity.vidbaby',\r\n\t\tplay: 'na-play.vidbaby',\r\n\t\tpause: 'na-pause.vidbaby',\r\n\t\tmute: 'na-mute.vidbaby',\r\n\t\tunmute: 'na-unmute.vidbaby',\r\n\t\t'player:state': 'na-player:state.vidbaby',\r\n\t\tpreRender: 'na-preRender.vidbaby',\r\n\t\tinterimPlayResponse: 'na-interimPlayResponse.vidbaby',\r\n\t\tinterimResponse: 'na-interimResponse.vidbaby',\r\n\t\tinterimSegmentEnded: 'na-interimSegmentEnded.vidbaby',\r\n\t\tplayerLoadingAssets: 'na-playerLoadingAssets.vidbaby',\r\n\t\t'record-start': 'na-record-start.vidbaby',\r\n\t\t'record-stop': 'na-record-stop.vidbaby',\r\n\t\t'video-progress': 'na-video-progress.vidbaby',\r\n\t\t'video-converted': 'na-video-converted.vidbaby',\r\n\t\t'video-ready': 'na-video-ready.vidbaby',\r\n\t\t'video-cancel': 'na-video-cancel.vidbaby',\r\n\t\tcamChange: 'na-camChange.vidbaby',\r\n\t\tglbLoaded: 'na-glbLoaded.vidbaby'\r\n\t}\r\n}\r\n\r\nexport default events;","import events from \"./events\";\r\n\r\nfunction normalizeEventName(eventName) {\r\n  const kebabCase = eventName.replace(/([A-Z])/g, g => `-${g[0].toLowerCase()}`);\r\n  return Object.keys(events.types).includes(kebabCase) ? kebabCase : eventName;\r\n}\r\n\r\nexport default normalizeEventName;","import { useLayoutEffect, useState } from \"react\";\r\n\r\nconst loadScript = ({ src, type = 'module', async = true }) => new Promise((resolve, reject) => {\r\n  const script = document.createElement(\"script\");\r\n  script.src = src;\r\n  script.type = type;\r\n  script.async = async;\r\n  script.onload = () => resolve(script);\r\n  script.onerror = () => reject(new Error('Failed to load script. Check your internet connection.'));\r\n  document.head.appendChild(script);\r\n});\r\n\r\nasync function jqVerHandling(){\r\n  if(typeof window.jQuery === 'undefined'\r\n    || typeof window.$ != 'function'\r\n    || window.jQuery.fn.jquery === undefined\r\n    || window.jQuery.fn.jquery < '3.4.1') {\r\n    let siteJq = null;\r\n    let site$ = null;\r\n    if (typeof window.jQuery != 'undefined'){\r\n      siteJq = window.jQuery\r\n      site$ = window.$\r\n    }\r\n    await loadScript({ \r\n      src: 'https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js',\r\n      type: 'text/javascript',\r\n      async: false\r\n    });\r\n    window.vidbaby$ = window.$;\r\n    if(siteJq){\r\n      window.$ = site$;\r\n      window.jQuery = siteJq;\r\n    }\r\n  } else {\r\n    window.vidbaby$ = window.$;\r\n  }\r\n\r\n  if(typeof window.$ === 'undefined') {\r\n    window.$ = window.jQuery;\r\n  }\r\n  return;\r\n}\r\n\r\nfunction useLoadCodebaby({ id, env }) {\r\n  const [getVB, setVB] = useState();\r\n  \r\n  useLayoutEffect(() => {\r\n    const verify = async () => {\r\n      const environments = {\r\n        local: `http://localhost:8080/loader.js?id=${id}&env=local`,\r\n        dev: `https://bridge3-dev.codebaby.com/loader.js?id=${id}&env=dev`,\r\n        qa: `https://qa-avatar.n-avatars.com/loader.js?id=${id}&env=qa`,\r\n        default: `https://portal.codebaby.com/loader.js?id=${id}`,\r\n      };\r\n\r\n      const normalizedEnv = (typeof env === 'string' ? env : '').toLowerCase().replace('localhost', 'local');\r\n      const url = environments[normalizedEnv] || environments.default;\r\n      \r\n      await jqVerHandling();\r\n      await loadScript({ src: url });\r\n      setVB(() => window.vidbaby$)\r\n    };\r\n    \r\n    if (window) {\r\n      verify()\r\n    } else {\r\n      setTimeout(verify, 3000);\r\n    }\r\n  }, []);  \r\n\r\n  return getVB;\r\n};\r\n\r\nexport default useLoadCodebaby;","import { createContext } from \"react\";\r\n\r\nconst avatarCtx = createContext({\r\n  on(event, cb) {},\r\n\toff(event, cb) {},\r\n\ttrigger(event, data){},\r\n});\r\n\r\nexport default avatarCtx;","import React, { \r\n  useCallback,\r\n  Fragment,\r\n  forwardRef,\r\n  useMemo,\r\n  useImperativeHandle,\r\n  useEffect\r\n} from \"react\";\r\n\r\nimport events from \"../utils/events\";\r\nimport normalizeEventName from \"../utils/normalizeEventName\";\r\n\r\nimport useLoadCodebaby from \"../hooks/useLoadLib\";\r\nimport avatarCtx from \"../context/avatarCtx\";\r\n\r\nconst AvatarProvider = forwardRef(function RefAvatarProvider({ children, id, env, ...onFunctions }, ref) {\r\n  const vidbaby$ = useLoadCodebaby({ id, env });\r\n\r\n  const onCodebaby = useCallback((event, cb) => {\r\n    if(vidbaby$)\r\n      vidbaby$(document).on(events.tansformEventName(event), cb);\r\n    }, [vidbaby$]);\r\n    const offCodebaby = useCallback((event, cb) => {\r\n      if(vidbaby$)\r\n      vidbaby$(document).off(events.tansformEventName(event), cb);\r\n    }, [vidbaby$]);\r\n    const triggerCodebaby = useCallback((event, data) => {\r\n      if(vidbaby$)\r\n        vidbaby$(document).trigger(events.tansformEventName(event), data);\r\n  }, [vidbaby$]);\r\n\r\n  const eventHandler = useMemo(() => ({\r\n    on: onCodebaby,\r\n    off: offCodebaby,\r\n    trigger: triggerCodebaby,\r\n  }), [onCodebaby, offCodebaby, triggerCodebaby]);\r\n\r\n  useImperativeHandle(ref, function refEvents() {\r\n    return eventHandler;\r\n  }, [eventHandler]);\r\n\r\n  useEffect(() => {\r\n    if(!vidbaby$ || !onFunctions || Object.keys(onFunctions).length === 0)\r\n      return;\r\n    const fns = onFunctions;\r\n    const eventsName = Object.keys(onFunctions)\r\n      .filter(i => i.startsWith(\"on\"))\r\n      .map(i => i.replace(\"on\", \"\"))\r\n      .map(i => i.charAt(0).toLowerCase() + i.slice(1));\r\n\r\n    if(eventsName.length <= 0)\r\n      return;\r\n    for(const eventName of eventsName) {\r\n      const key = `on${eventName.charAt(0).toUpperCase() + eventName.slice(1)}`;\r\n      if(eventName == 'initialized') {\r\n        eventHandler.on(normalizeEventName(eventName), (...args) => {\r\n          setTimeout(() => fns[key].apply(null, ...args), 1700);\r\n        });\r\n      } else {\r\n        eventHandler.on(normalizeEventName(eventName), fns[key]);\r\n      }\r\n    };\r\n    return () => {\r\n      for(const eventName of eventsName) {\r\n        const key = `on${eventName.charAt(0).toUpperCase() + eventName.slice(1)}`;\r\n        eventHandler.off(normalizeEventName(eventName), fns[key]);\r\n      };\r\n    };\r\n  }, [onFunctions, vidbaby$]);\r\n\r\n  return (\r\n    <avatarCtx.Provider value={eventHandler}>\r\n      <Fragment>\r\n        {children}\r\n        <div id=\"avatarContainer\" className=\"codebaby-react-avatar-container\"></div>\r\n      </Fragment>\r\n    </avatarCtx.Provider>\r\n  );\r\n});\r\n\r\n\r\nexport {AvatarProvider};","import { useContext } from \"react\";\r\nimport avatarCtx from \"../context/avatarCtx\";\r\n\r\nfunction useCodebabyEvents() {\r\n  const { on, off, trigger } = useContext(avatarCtx);\r\n\r\n  return { on, off, trigger };\r\n};\r\n\r\nexport {useCodebabyEvents};","import { useEffect, useState } from 'react';\r\n\r\nfunction useIsInitialized() {\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let timeoutId = null;\r\n    const verify = () => {\r\n      if(window) {\r\n        if(window.vidbaby$ && window.vidbaby && window.vidbaby.initialized) {\r\n          return setIsInitialized(true);\r\n        }\r\n      }\r\n      timeoutId = setTimeout(verify, 1000);\r\n    };\r\n    verify();\r\n    return () => {\r\n      if(timeoutId)\r\n        clearTimeout(timeoutId);\r\n    };\r\n  }, []);\r\n\r\n  return isInitialized;\r\n}\r\n\r\nexport {useIsInitialized};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}